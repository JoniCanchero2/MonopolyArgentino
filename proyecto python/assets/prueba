import tkinter as tk
from PIL import Image, ImageTk
import os # Necesario para verificar la ruta del archivo

# --- CONFIGURACIÓN ---
# Ajustá este nombre a una de las fichas que subiste a 'assets/'
NOMBRE_IMAGEN = 'Emapanada.png'
RUTA_IMAGEN = f'assets/{Emapanada.png}' 
TAMANO_VENTANA = 400

# --- FUNCIONES ---

def cargar_imagen_tk(ruta_imagen):
    """Carga una imagen usando Pillow."""
    try:
        # Verifica si el archivo existe
        if not os.path.exists(ruta_imagen):
            print(f"ERROR: No se encontró el archivo: {ruta_imagen}")
            print("Asegurate de que esté en la carpeta 'assets/'.")
            return None
            
        img_pil = Image.open(ruta_imagen)
        img_pil.thumbnail((200, 200), Image.LANCZOS) # Redimensiona para la prueba
        return ImageTk.PhotoImage(img_pil)
        
    except Exception as e:
        print(f"ERROR: Falló la carga de la imagen '{ruta_imagen}'.")
        print(f"Detalles: {e}")
        return None

# --- INICIO DE LA PRUEBA GRÁFICA ---

root = tk.Tk()
root.title("Prueba de Carga de Imagen con Pillow/Tkinter")

canvas = tk.Canvas(root, width=TAMANO_VENTANA, height=TAMANO_VENTANA, bg='white')
canvas.pack()

# Cargar la imagen
imagen_prueba_tk = cargar_imagen_tk(RUTA_IMAGEN)

if imagen_prueba_tk:
    # Dibuja la imagen en el centro del Canvas
    canvas.create_image(TAMANO_VENTANA // 2, TAMANO_VENTANA // 2, image=imagen_prueba_tk)
    tk.Label(root, text=f"Éxito: Imagen '{Emapanada.png}' cargada.").pack(pady=10)
    
    # IMPORTANTE: Mantenemos la referencia global para Tkinter
    root.imagen_referencia = imagen_prueba_tk 
else:
    tk.Label(root, text=f"FALLO: No se pudo cargar la imagen {NOMBRE_IMAGEN}.", fg='red').pack(pady=10)

root.mainloop()
